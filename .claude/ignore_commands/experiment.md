# Experiment Command

Design, implement, and run ML experiments.

## Usage
```
/experiment <experiment_name> <brief_description>
```

## What This Command Does
1. Creates new experiment file in `src/experiments/`
2. Sets up experiment config in `configs/experiments/`
3. Initializes logging and experiment tracking
4. Generates baseline implementation with proper structure

## Output Structure
```python
# src/experiments/exp_YYYY_MM_DD_<name>.py
"""
Experiment: <name>
Hypothesis: <auto-generated or user-provided>
Date: <current_date>
"""

import logging
from pathlib import Path
from dataclasses import dataclass
from typing import Dict, Any

import torch
from torch.utils.data import DataLoader

from utils.seed import set_seed
from utils.logging import setup_logging
from models.<model> import Model
from data.<dataset> import Dataset

@dataclass
class ExperimentConfig:
    """Configuration for experiment."""
    # Model hyperparameters
    hidden_dim: int = 256
    num_layers: int = 4
    dropout: float = 0.1
    
    # Training hyperparameters
    batch_size: int = 32
    learning_rate: float = 1e-4
    num_epochs: int = 100
    
    # Experiment settings
    seed: int = 42
    device: str = "cuda" if torch.cuda.is_available() else "cpu"
    exp_name: str = "<experiment_name>"

def run_experiment(config: ExperimentConfig) -> Dict[str, Any]:
    """Run the experiment and return results."""
    set_seed(config.seed)
    logger = setup_logging(config.exp_name)
    
    # Initialize model, data, optimizer
    # Training loop
    # Evaluation
    # Return metrics
    
    return results

if __name__ == "__main__":
    config = ExperimentConfig()
    results = run_experiment(config)
```

## Token Efficiency
- Reuse boilerplate from existing experiments
- Only generate novel parts (model architecture, training logic)
- Reference configs by path, don't regenerate standard configs